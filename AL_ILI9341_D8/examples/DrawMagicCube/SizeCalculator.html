<html>

<head>
    <title>SizeCalculator</title>
</head>

<body>
    <table>
        <tr>
            <td>Padding:</td>
            <td><input id="txt_padding" value="1" onchange="cal()" onkeyup="cal()" /></td>
        </tr>
        <tr>
            <td>Spacing:</td>
            <td><input id="txt_spacing" value="2" onchange="cal()" onkeyup="cal()" /></td>
        </tr>
        <tr>
            <td>Tile Size:</td>
            <td><input id="txt_tile" value="18" onchange="cal()" onkeyup="cal()" /></td>
        </tr>
        <tr>
            <td>Total Width:</td>
            <td>
                <p id="msg_width"></p>
            </td>
        </tr>
        <tr>
            <td>Total Height:</td>
            <td>
                <p id="msg_height"></p>
            </td>
        </tr>
        <tr>
            <td>Line Stops:</td>
            <td>
                <p id="msg_grid"></p>
            </td>
        </tr>
    </table>
    <script type="text/javascript">
        function cal() {
            var padding = parseInt(document.getElementById("txt_padding").value);
            var spacing = parseInt(document.getElementById("txt_spacing").value);
            var tile = parseInt(document.getElementById("txt_tile").value);

            if (isNaN(padding) || isNaN(spacing) || isNaN(tile)) {
                show("", "");
                return;
            }

            var w = padding * 2 + tile * 9 + spacing * 2 + 12;
            var h = padding * 2 + tile * 12 + spacing * 3 + 16;

            var grid = [];
            var x = padding;

            for (var i = 0; i < 4; i++) {
                var s = [];
                for (var j = 0; j < 4; j++) {
                    s.push(x);
                    if (j < 3)
                        x += 1 + tile;
                }
                grid.push(s);
                x += 1 + spacing;
            }
            show(w, h, grid);
        }

        function show(w, h, grid) {
            document.getElementById("msg_width").innerText = w;
            document.getElementById("msg_height").innerText = h;
            document.getElementById("msg_grid").innerText = JSON.stringify(grid);
        }

        cal();
    </script>
</body>

</html>